<template>
  <div class="cover-section">
    <div class="cover-section__page  cover-section__page-1" style="z-index: 6;">
      <section class="yellow">

      </section>
    </div>

    <div class="cover-section__page  cover-section__page-2"  style="z-index: 5;">
      <div class="cover-section__wrapper">
        <div class="cover-section__bounds">
          <div class="cover-section__content">
            <section class="green">
              <h1>Title</h1>
              <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Adipisci excepturi porro dignissimos modi quo commodi minus explicabo et? Sint, sit. Quasi incidunt deleniti quod explicabo quos velit inventore, blanditiis tempore.
              Optio ducimus culpa inventore enim incidunt commodi possimus laboriosam rem, neque, corporis vel error ut saepe dolorem, eveniet quaerat facilis hic. Vel alias quo hic impedit eaque accusamus fugit repellat?
              Laboriosam asperiores perspiciatis explicabo sit officia aut ex iure voluptas minus vero ipsa sapiente aliquid soluta accusantium, atque totam? Laudantium, molestiae optio dolore dolor esse voluptate! Atque praesentium quis ipsam.
              Ab sunt recusandae provident quae distinctio tempora dolor totam in dolorum quod praesentium nulla, ullam voluptatem doloribus neque aut harum sint laborum placeat. Ea voluptatum blanditiis quos, ratione odio doloribus.
              Laborum quibusdam assumenda saepe autem, veniam nesciunt sapiente nobis ab natus. Architecto voluptatem nobis quia velit. Corrupti iste culpa quos delectus neque, vero, dolore adipisci pariatur cupiditate, magni veritatis suscipit?</p>
              <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Adipisci excepturi porro dignissimos modi quo commodi minus explicabo et? Sint, sit. Quasi incidunt deleniti quod explicabo quos velit inventore, blanditiis tempore.
              Optio ducimus culpa inventore enim incidunt commodi possimus laboriosam rem, neque, corporis vel error ut saepe dolorem, eveniet quaerat facilis hic. Vel alias quo hic impedit eaque accusamus fugit repellat?
              Laboriosam asperiores perspiciatis explicabo sit officia aut ex iure voluptas minus vero ipsa sapiente aliquid soluta accusantium, atque totam? Laudantium, molestiae optio dolore dolor esse voluptate! Atque praesentium quis ipsam.
              Ab sunt recusandae provident quae distinctio tempora dolor totam in dolorum quod praesentium nulla, ullam voluptatem doloribus neque aut harum sint laborum placeat. Ea voluptatum blanditiis quos, ratione odio doloribus.
              Laborum quibusdam assumenda saepe autem, veniam nesciunt sapiente nobis ab natus. Architecto voluptatem nobis quia velit. Corrupti iste culpa quos delectus neque, vero, dolore adipisci pariatur cupiditate, magni veritatis suscipit?</p>
              <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Adipisci excepturi porro dignissimos modi quo commodi minus explicabo et? Sint, sit. Quasi incidunt deleniti quod explicabo quos velit inventore, blanditiis tempore.
              Optio ducimus culpa inventore enim incidunt commodi possimus laboriosam rem, neque, corporis vel error ut saepe dolorem, eveniet quaerat facilis hic. Vel alias quo hic impedit eaque accusamus fugit repellat?
              Laboriosam asperiores perspiciatis explicabo sit officia aut ex iure voluptas minus vero ipsa sapiente aliquid soluta accusantium, atque totam? Laudantium, molestiae optio dolore dolor esse voluptate! Atque praesentium quis ipsam.
              Ab sunt recusandae provident quae distinctio tempora dolor totam in dolorum quod praesentium nulla, ullam voluptatem doloribus neque aut harum sint laborum placeat. Ea voluptatum blanditiis quos, ratione odio doloribus.
              Laborum quibusdam assumenda saepe autem, veniam nesciunt sapiente nobis ab natus. Architecto voluptatem nobis quia velit. Corrupti iste culpa quos delectus neque, vero, dolore adipisci pariatur cupiditate, magni veritatis suscipit?</p>
              <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Adipisci excepturi porro dignissimos modi quo commodi minus explicabo et? Sint, sit. Quasi incidunt deleniti quod explicabo quos velit inventore, blanditiis tempore.
              Optio ducimus culpa inventore enim incidunt commodi possimus laboriosam rem, neque, corporis vel error ut saepe dolorem, eveniet quaerat facilis hic. Vel alias quo hic impedit eaque accusamus fugit repellat?
              Laboriosam asperiores perspiciatis explicabo sit officia aut ex iure voluptas minus vero ipsa sapiente aliquid soluta accusantium, atque totam? Laudantium, molestiae optio dolore dolor esse voluptate! Atque praesentium quis ipsam.
              Ab sunt recusandae provident quae distinctio tempora dolor totam in dolorum quod praesentium nulla, ullam voluptatem doloribus neque aut harum sint laborum placeat. Ea voluptatum blanditiis quos, ratione odio doloribus.
              Laborum quibusdam assumenda saepe autem, veniam nesciunt sapiente nobis ab natus. Architecto voluptatem nobis quia velit. Corrupti iste culpa quos delectus neque, vero, dolore adipisci pariatur cupiditate, magni veritatis suscipit?</p>
            </section>
          </div>
        </div>
      </div>
    </div>

    <div class="cover-section__page  cover-section__page-3" style="z-index: 4;">
      <section class="blue">
        <h1>Title</h1>
      </section>
    </div>

    <div class="cover-section__page" style="z-index: 3;">
      <section class="orange">
              <h1>Title</h1>
              <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Adipisci excepturi porro dignissimos modi quo commodi minus explicabo et? Sint, sit. Quasi incidunt deleniti quod explicabo quos velit inventore, blanditiis tempore.
              Optio ducimus culpa inventore enim incidunt commodi possimus laboriosam rem, neque, corporis vel error ut saepe dolorem, eveniet quaerat facilis hic. Vel alias quo hic impedit eaque accusamus fugit repellat?
              Laboriosam asperiores perspiciatis explicabo sit officia aut ex iure voluptas minus vero ipsa sapiente aliquid soluta accusantium, atque totam? Laudantium, molestiae optio dolore dolor esse voluptate! Atque praesentium quis ipsam.
              Ab sunt recusandae provident quae distinctio tempora dolor totam in dolorum quod praesentium nulla, ullam voluptatem doloribus neque aut harum sint laborum placeat. Ea voluptatum blanditiis quos, ratione odio doloribus.
              Laborum quibusdam assumenda saepe autem, veniam nesciunt sapiente nobis ab natus. Architecto voluptatem nobis quia velit. Corrupti iste culpa quos delectus neque, vero, dolore adipisci pariatur cupiditate, magni veritatis suscipit?</p>
              <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Adipisci excepturi porro dignissimos modi quo commodi minus explicabo et? Sint, sit. Quasi incidunt deleniti quod explicabo quos velit inventore, blanditiis tempore.
              Optio ducimus culpa inventore enim incidunt commodi possimus laboriosam rem, neque, corporis vel error ut saepe dolorem, eveniet quaerat facilis hic. Vel alias quo hic impedit eaque accusamus fugit repellat?
              Laboriosam asperiores perspiciatis explicabo sit officia aut ex iure voluptas minus vero ipsa sapiente aliquid soluta accusantium, atque totam? Laudantium, molestiae optio dolore dolor esse voluptate! Atque praesentium quis ipsam.
              Ab sunt recusandae provident quae distinctio tempora dolor totam in dolorum quod praesentium nulla, ullam voluptatem doloribus neque aut harum sint laborum placeat. Ea voluptatum blanditiis quos, ratione odio doloribus.
              Laborum quibusdam assumenda saepe autem, veniam nesciunt sapiente nobis ab natus. Architecto voluptatem nobis quia velit. Corrupti iste culpa quos delectus neque, vero, dolore adipisci pariatur cupiditate, magni veritatis suscipit?</p>
              <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Adipisci excepturi porro dignissimos modi quo commodi minus explicabo et? Sint, sit. Quasi incidunt deleniti quod explicabo quos velit inventore, blanditiis tempore.
              Optio ducimus culpa inventore enim incidunt commodi possimus laboriosam rem, neque, corporis vel error ut saepe dolorem, eveniet quaerat facilis hic. Vel alias quo hic impedit eaque accusamus fugit repellat?
              Laboriosam asperiores perspiciatis explicabo sit officia aut ex iure voluptas minus vero ipsa sapiente aliquid soluta accusantium, atque totam? Laudantium, molestiae optio dolore dolor esse voluptate! Atque praesentium quis ipsam.
              Ab sunt recusandae provident quae distinctio tempora dolor totam in dolorum quod praesentium nulla, ullam voluptatem doloribus neque aut harum sint laborum placeat. Ea voluptatum blanditiis quos, ratione odio doloribus.
              Laborum quibusdam assumenda saepe autem, veniam nesciunt sapiente nobis ab natus. Architecto voluptatem nobis quia velit. Corrupti iste culpa quos delectus neque, vero, dolore adipisci pariatur cupiditate, magni veritatis suscipit?</p>
              <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Adipisci excepturi porro dignissimos modi quo commodi minus explicabo et? Sint, sit. Quasi incidunt deleniti quod explicabo quos velit inventore, blanditiis tempore.
              Optio ducimus culpa inventore enim incidunt commodi possimus laboriosam rem, neque, corporis vel error ut saepe dolorem, eveniet quaerat facilis hic. Vel alias quo hic impedit eaque accusamus fugit repellat?
              Laboriosam asperiores perspiciatis explicabo sit officia aut ex iure voluptas minus vero ipsa sapiente aliquid soluta accusantium, atque totam? Laudantium, molestiae optio dolore dolor esse voluptate! Atque praesentium quis ipsam.
              Ab sunt recusandae provident quae distinctio tempora dolor totam in dolorum quod praesentium nulla, ullam voluptatem doloribus neque aut harum sint laborum placeat. Ea voluptatum blanditiis quos, ratione odio doloribus.
              Laborum quibusdam assumenda saepe autem, veniam nesciunt sapiente nobis ab natus. Architecto voluptatem nobis quia velit. Corrupti iste culpa quos delectus neque, vero, dolore adipisci pariatur cupiditate, magni veritatis suscipit?</p>
      </section>
    </div>
  </div>
</template>

<script>
  import {gsap} from 'gsap'
  import { ScrollTrigger } from 'gsap/ScrollTrigger.js'

  export default {
    layout: 'scroll',
    mounted() {
      gsap.registerPlugin(ScrollTrigger)

      gsap.set(document.body, {height: 3000});

      gsap.set(".cover-section__bounds", {height: document.querySelector('.cover-section__bounds').offsetHeight});

      gsap.set(".cover-section__content", {height: document.querySelector('.cover-section__content').offsetHeight});

      const animation = gsap.timeline();
      animation.to(".cover-section__page-1", {top: -document.querySelector('.cover-section__page-1').offsetHeight})
        .to(".cover-section__bounds", {top: -document.querySelector('.cover-section__bounds').offsetHeight})
        .to(".cover-section__page-3", {y: -document.querySelector('.cover-section__page-3').offsetHeight});

      const st = ScrollTrigger.create({
        animation,
        trigger: '.cover-section',
        start: 'top top',
        scrub: true,
        end: () => document.body.offsetHeight,
        markers: true,
      })
    }
  }
</script>

<style lang="less">
  .cover-section {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .cover-section__page {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .cover-section__wrapper {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .cover-section__bounds {
    position: absolute;
    overflow: hidden;
  }

  .cover-section__content {
    position: relative;
    overflow: visible;
    transform-origin: 0 0;
  }

  .yellow {
    background: yellow;
    height: 100vh;
  }

  .green {
    background: green;
  }

  .blue {
    background: blue;
    height: 100vh;
  }

  .orange {
    background: orange;
  }
</style>
